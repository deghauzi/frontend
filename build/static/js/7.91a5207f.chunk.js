(this.webpackJsonpdeghauzimicrolending=this.webpackJsonpdeghauzimicrolending||[]).push([[7],{937:function(e,t,a){"use strict";a.r(t);var n=a(88),c=a(10),r=a(83),s=a(2),l=(a(43),a(54),a(8),a(31)),i=a(941),o=a(938),u=a(939),b=a(915),j=a(182),d=a(63),m=(a(73),a(114)),h=a(6),f=a(926);t.default=function(e){var t=e.history,a=Object(l.b)();Object(s.useEffect)((function(){a(Object(d.c)()),a(Object(m.b)()),a(Object(m.a)())}),[]);var p=Object(l.c)((function(e){return e.commonReducer})),x=Object(l.c)((function(e){return e.contributionReducer})),O=x.mainAccount,_=x.bonusAccount,g=p.loading,N=Object(s.useState)({request_expected_date:"",request_reasons:"",request_amount:"",request_from_account:""}),q=Object(r.a)(N,2),v=q[0],k=q[1],w=function(e){var t=e.target,a=t.name,r=t.value;k((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(n.a)({},a,r))}))},y="Main"===v.request_from_account&&parseInt(v.request_amount)>=parseInt(O[0].bank_account_balance),C="Wallet"===v.request_from_account&&parseInt(v.request_amount)>=parseInt(_.wallet_balance),I=Object(s.useState)(0),S=Object(r.a)(I,2),A=S[0],R=S[1],z=["Reason","Amount","Date"],F=function(){return Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("h2",{className:"fs-title text-uppercase font-weight-bold",children:"Reason For Withdrawal"}),Object(h.jsx)("input",{type:"textarea",className:"input-textarea",name:"request_reasons",placeholder:"breif reasons for withdrawal",onChange:w})]})},M=function(){return Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("h2",{className:"fs-title mt-4 text-uppercase font-weight-bold",children:"Request Expected Date"}),Object(h.jsx)("input",{onChange:w,type:"date",name:"request_expected_date",className:"input-date"})]})},W=function(){return Object(h.jsxs)("fieldset",{children:[Object(h.jsxs)("select",{name:"request_from_account",className:"input-textarea",onChange:w,children:[Object(h.jsx)("option",{children:"Select Account"}),Object(h.jsx)("option",{value:"Main",children:"Main"}),Object(h.jsx)("option",{value:"Wallet",children:"Wallet"})]}),Object(h.jsx)("h2",{className:"fs-title text-uppercase font-weight-bold",children:"Amount"}),Object(h.jsx)("input",{type:"text",className:"input-text",placeholder:"amount needed?",name:"request_amount",onChange:w}),y?Object(h.jsxs)("p",{className:"text-danger",children:["amount can't be greater than balance: \u20a6",f(O[0].bank_account_balance).format("0,0")]}):C?Object(h.jsxs)("p",{className:"text-danger",children:["amount can't be greater than balance: \u20a6",f(_.wallet_balance).format("0,0")]}):null]})},B=function(){R((function(e){return e-1}))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"d-flex mt-5 justify-content-center",children:Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),a(Object(m.e)(Object(c.a)({},v)))},className:"fundforms_container",children:Object(h.jsxs)("div",{children:[Object(h.jsx)(i.a,{activeStep:A,alternativeLabel:!0,className:"horizontal-stepper-linear",children:z.map((function(e,t){return Object(h.jsx)(o.a,{className:"horizontal-stepper ".concat(t===A?"active":""),children:Object(h.jsx)(u.a,{className:"stepperlabel",children:e})},e)}))}),Object(h.jsx)("div",{children:A!==z.length?Object(h.jsxs)("div",{children:[function(e){switch(e){case 0:return F();case 1:return W();case 2:return M();default:return"Uknown stepIndex"}}(A),Object(h.jsxs)("div",{className:"mt-4",children:[0!==A&&Object(h.jsx)(b.a,{disabled:0===A,onClick:B,className:"mr-2 float-left",color:"primary",children:"Back"}),Object(h.jsx)(b.a,{className:"mr-2 float-left",color:"primary",onClick:function(){t.push("/"),k({})},children:"Cancel"}),Object(h.jsx)(b.a,{className:"mr-2 float-right",variant:"contained",color:"primary",onClick:function(){R((function(e){return e+1}))},children:A===z.length-1?"Finish":"Next"})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b.a,{disabled:0===A,onClick:B,className:"mr-2 float-left",color:"primary",children:"Back"}),Object(h.jsx)(b.a,{type:"submit",name:"submit",className:"MuiButton-containedPrimary",disabled:""===v.request_amount||""===v.request_expected_date||""===v.request_from_account||""===v.request_reasons||parseInt(v.request_amount)>=parseInt(O[0].bank_account_balance),onClick:function(){setTimeout((function(){R(0)}),5e3)},children:g?Object(h.jsx)(j.a,{}):"Submit"}),y?Object(h.jsxs)("p",{className:"text-danger",children:["amount can't be greater than balance: \u20a6",f(O[0].bank_account_balance).format("0,0")]}):C?Object(h.jsxs)("p",{className:"text-danger",children:["amount can't be greater than balance: \u20a6",f(_.wallet_balance).format("0,0")]}):null]})})]})})})})}}}]);
//# sourceMappingURL=7.91a5207f.chunk.js.map